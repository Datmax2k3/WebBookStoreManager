@* Views/Shared/PartialView/_FeaturedBooks.cshtml *@
@using WebBookStoreManage.Models

@{
    var topViewedProducts = ViewBag.TopViewedProducts as List<SANPHAM>;
}

<section id="featured-books" class="py-5 my-5">
    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <div class="section-header align-center">
                    <div class="title">
                        <span>Some quality items</span>
                    </div>
                    <h2 class="section-title">Featured Books</h2>
                </div>

                <div class="product-list" data-aos="fade-up">
                    <div class="row">
                        @if (topViewedProducts != null && topViewedProducts.Any())
                        {
                            foreach (var product in topViewedProducts)
                            {
                            <div class="col-md-3">
                                <div class="product-item">
                                    <figure class="product-style">
                                        <a href="@Url.Action("ProductDetail", "Home", new { id = product.IdSanPham })">
                                            <img src="@Url.Content("~/images/product/" + product.hinhAnh)" alt="@product.TenSanPham" class="product-item" loading="lazy" />
                                        </a>
                                        <button type="button" class="btn btn-primary btn-sm add-to-cart" data-product-id="@product.IdSanPham">
                                            Thêm vào giỏ
                                        </button>
                                    </figure>
                                    <figcaption>
                                        <h3>@product.TenSanPham</h3>
                                        <div class="item-price">$ @product.GiaGoc</div>
                                    </figcaption>
                                </div>
                            </div>
                            }
                        }
                        else
                        {
                            <!-- Hiển thị sản phẩm mặc định nếu không có dữ liệu -->
                            <div class="col-md-3">
                                <div class="product-item">
                                    <figure class="product-style">
                                        <img src="images/product-item1.jpg" alt="Books" class="product-item">
                                        <button type="button" class="add-to-cart" data-product-tile="add-to-cart">
                                            Add to Cart
                                        </button>
                                    </figure>
                                    <figcaption>
                                        <h3>Simple way of piece life</h3>
                                        <span>Armor Ramsey</span>
                                        <div class="item-price">$ 40.00</div>
                                    </figcaption>
                                </div>
                            </div>

                            <!-- Thêm 3 sản phẩm mặc định còn lại từ mẫu gốc -->
                        }

                    </div><!--ft-books-slider-->
                </div><!--grid-->

            </div><!--inner-content-->
        </div>

    </div>
</section>